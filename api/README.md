# Система API
Данная система позволит создать и настроить api

## Файл конфигурации
Параметры:
- `mode` - режим, в котором будет запускаться сервер https|http|localhost
- `port` - порт, на котором будет запускаться сервер
- `sub_url` - дополнительный путь в адрессной строке для `'api'` => `https://domain.ru/api`
- `logging` - флаг отвечающий за логирование в файл логов
- `headers` - заголовки, которые необходимо вернуть при запросе `headers: [{ name: String, value: any }]`

## Настройка SSL
Для домена, на котором планируется развернуть API, необходимо выпустить SSL-сертифика и запонить файлы в папке `SSL-certification`:
- `key.key` - `-----BEGIN RSA PRIVATE KEY-----`
- `certificat.crt` - `-----BEGIN CERTIFICATE-----(Основной)`
- `domain.cabundle` - `-----BEGIN CERTIFICATE-----(Основной)`, `-----BEGIN CERTIFICATE-----(корневой)`, `-----BEGIN CERTIFICATE-----(промежуточный)`

## Создание методов
Для добавления метода необходимо создать каталог с название метода внутри каталог `methods`, внутри каталога необходимо создать файл `index.js` и описать обработчик:
https://github.com/stanevko-ilya/template-server/blob/master/api/methods/test/index.js#L1-L6

В примере выше URL адрес для метода по умолчанию будет: `https://domain.ru/api/test`, если необходимо, чтобы URL был `https://domain.ru/api/template/test`, то в каталоге `methods` необходимо создать каталог `template`, и в нём создать каталог `test`, в котором будет описан обработчки

## Файл конфигурации метода
Параметры:
- `use` - флаг, отвечающий за прослушевание метода
- `method` - тип метода: `'get'`, `'post'` и т.д.
- `params` - параметры, которые должен принимать метод

Формат для параметра `params`:
```javascript
"params": [{
    "name": String, // Имя параметра
    "required": Boolean, // Является ли параметр обязательным
    "type": "string"|"number"|"object"|"boolean", // Тип получаемого значения
    "orientation": "positive"|"negative", // Используется для присвоения определнного знака числу, если type = "number"; Не указывайте, если знак должен остаться неизменным
    "interval": [Number, Number] // Проверка принадлежности значения к промежутку, если type = "number"; Не указывайте, если ограничей для значения нет
    "valid_values": Array<*> // Допустимые значения параметра
}|String]
```
